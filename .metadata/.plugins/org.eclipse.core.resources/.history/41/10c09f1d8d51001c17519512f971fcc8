package com.revature.service;

import java.sql.SQLException;
import java.sql.Timestamp;
import java.util.HashSet;
import java.util.Set;

import com.revature.dao.ReimbursementDAO;
import com.revature.exceptions.InvalidParameterException;
import com.revature.model.Reimbursement;
import com.revature.model.User;

public class ReimbursementService implements ReimbursementServiceInterface {
	
	ReimbursementDAO reimbursementDao = new ReimbursementDAO();

	public ReimbursementService() {
		this.reimbursementDao = new ReimbursementDAO();
	}

	public ReimbursementService(ReimbursementDAO reimbursementDao) {
		this.reimbursementDao = reimbursementDao;
	}

	@Override
	public Reimbursement submitReimbursementRequest(User currentlyLoggedInUser, Timestamp dateSubmitted, String type,
			String description, String amount) throws InvalidParameterException, SQLException {
		
		Set<String> reimbursementTypes = new HashSet<>();
		
		reimbursementTypes.add("LODGING");
		reimbursementTypes.add("TRAVEL");
		reimbursementTypes.add("FOOD");
		reimbursementTypes.add("OTHER");
		
		if (!(reimbursementTypes.contains(type))) {
			throw new InvalidParameterException(
					"When adding an reimbursements: LODGING, only TRAVEL, FOOD, or OTHER are allowed");

		}
		
		int userId = currentlyLoggedInUser.getUserId();
		
		
		
	}

}
